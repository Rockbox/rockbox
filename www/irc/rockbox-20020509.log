**** BEGIN LOGGING AT Mon May  6 00:25:45 2002

-->	stile (~adiamas@as5300-9.216-194-23-71.nyc.ny.metconnect.net) has joined #rockbox
---	Topic for #rockbox is Open Source Jukebox Firmware - http://bjorn.haxx.se/rockbox/
---	Topic for #rockbox set by Zagor at Fri Apr 12 09:45:52
<--	adiamas has quit (Killed (NickServ (Nickname Enforcement)))
-->	lou_soyur (~adiamas@pool-151-204-140-140.ny325.east.verizon.net) has joined #rockbox
---	You are now known as adiamas
-->	[TDM]Mr_B|away (~nx_2000@ip68-0-62-70.no.no.cox.net) has joined #rockbox
---	[TDM]Mr_B|away is now known as [TDM]Mr_B
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
---	ChanServ gives channel operator status to Bagder
<[TDM]Mr_B>	hello?
<Bagder>	hey ho
<[TDM]Mr_B>	...just an outsider with some questions
<Bagder>	go ahead and ask, I'll try to answer
<[TDM]Mr_B>	i've been following this project for a short while and i'm very interested...
<[TDM]Mr_B>	I was wondering what progress you've made.  Is there anything working that a programming novice can use?
<Bagder>	we're doing two different simulators, for running the app itself on host machines
<Bagder>	one for win32, one for X11
<[TDM]Mr_B>	is there an exe of that sim?
<Bagder>	we do not have the app actually running on target just yet
<Bagder>	edx is the author of the win32 simulator, we should ask him to post a binary on the web site
<[TDM]Mr_B>	exactly what improvments/additions are you guys working on?
<Bagder>	I think many of them are mentioned of the web site
<Bagder>	we need to implement everything by ourselves
<Bagder>	so we will try to write an mp3 player software that meets the audience demands
<[TDM]Mr_B>	when do you think some of these enhancments will be avaliable for the layman to download?
<Bagder>	we *hope* we will have the first actual target firmware that works *somewhat* before the end of this month
<[TDM]Mr_B>	cool
<[TDM]Mr_B>	how well does tretris work?
<[TDM]Mr_B>	...tetris
<Bagder>	it works pretty good ;-)
<Bagder>	no scores yet though
<Bagder>	I expect that we will get even more programmers joining up the very second we have a first target version
<[TDM]Mr_B>	i'm looking forward to all of it
<Bagder>	:-) me too
<[TDM]Mr_B>	I see you guys are working on a FAT 32 fs
<Bagder>	yes, we need that to be able to read the disk
<[TDM]Mr_B>	I guess that would make installation/use easier?
<Bagder>	the disk is using fat32, we need to read dirs/files from it...
<[TDM]Mr_B>	ok, I get it
<[TDM]Mr_B>	would you mind tellingme exactly what other modifications you guys are working on?
<Bagder>	we replace the entire software
<Bagder>	we hope to make the player more intuitive and more capable than the built-in software
<Bagder>	if you've used it, you know it isn't very good
<Bagder>	its about resuming play in a playlist
<Bagder>	handling big playlists
<Bagder>	and all sorts of stuff
<[TDM]Mr_B>	well, thanks for entertaining my questions
<Bagder>	personally, I do most of this because of the shear fun
<[TDM]Mr_B>	same here, only with coding hypertext
*	adiamas coughs "Read the faq"
<Bagder>	feel free to let us know if you think you can help out the project in any way you see fit
*	adiamas nods
<adiamas>	hey Bagder whats doing?
<Bagder>	did lots yesterdat, as the CVS-list shows ;-)
<adiamas>	heheh yeah..
<adiamas>	I _can't_ believe that i forgot to call the function pointers when i put that in :)
<Bagder>	hehe
<[TDM]Mr_B>	...I read the FAQ 3 times
<adiamas>	heheh k :)
<adiamas>	can't help; it... 
<adiamas>	its my pet project :)
<adiamas>	any suggestions on additions or rewording?
<Bagder>	adiamas: "why do you write a replacement software?"
<Bagder>	adiamas: "when do you think there is a version available for my Archos?"
<[TDM]Mr_B>	well, it doesn't answer too many questions
<[TDM]Mr_B>	tell people about exactly what's being redone and maybe when people will be able to enjoy your labors on their players
<adiamas>	What exactly are you trying to achieve with this line of development?
<adiamas>	should that be reworded?
<Bagder>	adiamas: could you unmber the questions? it would be easier to direct people to a specific question then
<Bagder>	hm
<Bagder>	number
<adiamas>	hmmm how shoul di answer "when do you think there will be a version available?"
<adiamas>	sure could...
<Bagder>	adiamas: well, I think that question deserves to be answered very unspecific
<Bagder>	we might all get very busy all of a sudden
<Bagder>	so say something like maybe in a month, maybe in three, maybe in six
<[TDM]Mr_B>	true
<[TDM]Mr_B>	to quote Dilbert... "ONe month to complete the project and 5 months to play 'Doom' on my computer."
<adiamas>	lol
<Bagder>	in this case, of course, it is Tetris ;-)
*	Bagder just applied patched mailed to him from Dave Chapman
<Bagder>	patches
<Bagder>	grrrr, can't type
<adiamas>	hmmm ... i need a polite way of saying 'Fuck off you complete moron."
<adiamas>	Suggestions?
<Bagder>	heh, in which context?
<adiamas>	never mind.. i have an answer...
<Bagder>	you're the american ;-)
<Bagder>	Mr_B: where are you from?
-->	calpefrosch (~calpefros@62.52.174.30) has joined #Rockbox
<calpefrosch>	moin
<Bagder>	morning calpefrosch
<Bagder>	the win32 simulator might need some attention now ;-)
*	Bagder whistles innocently
<calpefrosch>	hmm, let's talk about some details. 
*	Bagder browses subdirs in his simulator!
<Bagder>	calpefrosch: what kind of details?
<[TDM]Mr_B>	...New Orleans
<adiamas>	okay.. faq updated.. anyone wanna take a look?
*	Bagder shows his thumbs up
<adiamas>	:)
<adiamas>	im a bit heavy on the sarcasm.. but bugger it... let them deal with it...
<Bagder>	we need that
<[TDM]Mr_B>	...an improvment...and I love sarcasm
<Bagder>	it makes it more obvious everything isn't so serious
*	Bagder runs for more coffee
*	adiamas cheers wildly
<adiamas>	[TDM]Mr_B your on windows correct?
<[TDM]Mr_B>	Windows XP home
<[TDM]Mr_B>	well, I should reall y be in bed, night folks
<--	[TDM]Mr_B has quit ()
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
---	Zagor_ is now known as Zagor
<Bagder>	morning Zagor
<Zagor>	morn
<Zagor>	you sure had a busy sunday :)
<Bagder>	yeps, did my share of cleaning up ;-)
<calpefrosch>	sorry, have been to a meeting
<Bagder>	Zagor: the simulator is growing cooler
<Zagor>	nice!
<Bagder>	Dave Chapman stepped in and sent me patches too
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
<Linus>	Boo!
*	Bagder boos Linus back
<adiamas>	looking at the throughput that this guy dave is doing.. maybe he should be considered for cvs access...
<Bagder>	yes, I mailed him about it
<adiamas>	cool
<calpefrosch>	Badger: I ment which kind of attention ?
<Bagder>	calpefrosch: ah, it won't build just now since I've added more firmware files to the build
*	adiamas screams
*	adiamas slams his head against the wall..
<Bagder>	keeping both simulators up-to-date is a challange
<adiamas>	okay.. i screwed up.. so i may as well clue everyone in...
*	adiamas was working on tic-tac-toe for the archos...
*	adiamas was 1/2 way there...
<Linus>	adiamas is a hero
<calpefrosch>	Badger: ok, I'll try to build it this morning. 
*	adiamas f***ed up...
<adiamas>	see... before i went to see the girlfriend this weekend i 'cleaned' up[ my sim dir...
*	adiamas doesn't really remember deleteing the files.. but they are gone
<adiamas>	so it's gonna be a few days to finish :(
<Bagder>	:-/
<Linus>	We have a saying:
<Linus>	"do it properly, or do it many times"
<Linus>	:-)
<adiamas>	oh.. i did it properly...
<adiamas>	if deletion was our aim...
<Linus>	and now you will do it again
<adiamas>	lol
<adiamas>	yup
<adiamas>	oh.. btw.. was it cool that i went to function pointers on the sim?
<adiamas>	just seemed to make more sense
<Bagder>	yeah, its good
<Linus>	I just got the MAS DMA working...
<Bagder>	*cool*
*	Zagor feels Linus breathing down his neck again...
<calpefrosch>	badger: what is that header "unistd.h" ?
<calpefrosch>	btw, sorry for *always* changing the letters b and g ... 
<Bagder>	hehe
<Linus>	We have a serious problem with the project...
<adiamas>	whats that?
<Bagder>	calpefrosch: I don't think that should be included
<Linus>	Apparently, Zagor pretends that he has a life, seriously slowing down the development!!! :-)
<Bagder>	calpefrosch: as that is a unix-only include file
<adiamas>	LOL
<Zagor>	hehe
<Bagder>	hahaha
*	adiamas pokes Zagor
<adiamas>	oh.. i had an idea while driving my 2.5 hrs back home..
<Zagor>	I knew you'd see right through me :)
<adiamas>	i was doing random through one of my playlists...
<Bagder>	random thoughts are good :-P
<Zagor>	adiamas: you have a 2.5h commute?!?
<adiamas>	and realized it would be _really_ cool if i could hit a button and have the current song added to a 'favorites' list
<calpefrosch>	Bagder: It's in the ID3.c. Could you remove it, or do you need it there?
<Linus>	adiamas: great idea
<adiamas>	Zagor: nah.. only to see my girlfriend.
<Zagor>	ah
<adiamas>	i figured.. this 'favorite' list could just be a dynamic playlist...
<Linus>	adiamas has a life too?
<Bagder>	calpefrosch: *gone*
<adiamas>	because with 1000+ plus songs it _sucks_ to have to manually pick out my favs...
<Linus>	Just delete the other ones. :-)
<calpefrosch>	Bagder: tnx
<adiamas>	Linus:  a girlfriend 2 hrs away, a job, ride for my ambulance core ... _And_ i still find time to hang out here and be unproductive and sarcastic...
<adiamas>	:)
*	adiamas smiles at linus
*	Linus smiles
*	adiamas thinks your just jealous cause i wrote a cheap little screensaver... :)
*	Linus tries to have a life too...wife and kids!
<Zagor>	Linus: that's a life? ;)
<adiamas>	congrats...
<Linus>	:-)
<adiamas>	how long you been married mate?
<Linus>	Almost 2 years
<Bagder>	2+ here
<adiamas>	hehe
<adiamas>	im just starting to get to that point...
<adiamas>	friggin distance is killing me
---	Tumm is now known as coyote-
<adiamas>	umm... any chance of having the DISPLAY value in the sim makefile be a bit more useful?
<adiamas>	someone who doesn't know the project won't know which is which....
<adiamas>	CHARCELLS vs BITMAP
<Bagder>	well
<Bagder>	I didn't wanna use the actual target-defines
<adiamas>	how do you mean?
<Bagder>	we use ARCHOS_PLAYER and ARCHOS_RECORDER for target builds
<adiamas>	ahh.. i got ya...
<Bagder>	but they imply more than just different LCDs
<Bagder>	maybe we can just add two big comments in the Makefile for now, explaining which is which
<adiamas>	well.. its only the recorder that has BITMAP right?
<Bagder>	yes
<adiamas>	well.. instead of HAVE_LCD_CHARCELLS .. what about HAVE_RECORDER_LCD
<Bagder>	thinking about it...
<adiamas>	nods
<Bagder>	ARCHOS_PLAYER and ARCHOS_RECORDER would probably be best
<Bagder>	then we'll be forced to include "config.h" properly
<adiamas>	hmm.. well.. id rather stay the way we are then for now...
<Bagder>	anyway, those defines are documented in firmware/CONFIG
*	adiamas nods
<calpefrosch>	Bagder: do we use harness.c or app.c for the sim ?
<Bagder>	calpefrosch: remove the harness.c completely from the sim
<Bagder>	it isn't meant to be there
<Bagder>	app.c is the app main entry
<calpefrosch>	ok
*	calpefrosch have to go to a meeting.
<calpefrosch>	brb
---	calpefrosch is now known as calpefrosch|meet
<adiamas>	could someone explain this to me?
<adiamas>	$(CC) $(CFLAGS) -c $< -o $@
<adiamas>	i know cc and cflags
<adiamas>	-c im good
<adiamas>	-o im good
<adiamas>	but on a makefile i forget what $< and $@ are...
<Bagder>	$< is the file on the right side of the : in the rule-line above
<adiamas>	okay...
<Bagder>	and $@ is the file on the left side of the : above
<adiamas>	ahh.. okay.. thanks
<Linus>	Actually, $< is the file that triggered the rebuild, isn't it?
<Zagor>	no, that could be a .h file
<Linus>	So what is $< when there are two files on the right side?
<Bagder>	the first one I think
<Zagor>	the first, I think
<Zagor>	:)
<Linus>	OK. And $* is all of them, right?
<Zagor>	ummm 'info make'
<Zagor>	;)
<adiamas>	im just trying to find a way to clean up the sim makefile
<adiamas>	i have to believe there is an easier way to build the app obj files w/o having to do : filename.o: $(DIRPATH)/filename.c
<adiamas>	    $(CC) $(CFLAGS) -c $< -o $@
<adiamas>	10 times
<Bagder>	this klez virus sure is annoying
<adiamas>	heheh whats the prob?
<Bagder>	it mails
<adiamas>	got ya
<Bagder>	I've received >50 mails with klez
<Zagor>	yeah
<Bagder>	it fakes From: line, and it fakes Subject: and it attaches the virus
---	calpefrosch|meet is now known as calpefrosch
<adiamas>	as far as menus go... for sim and target.. should we assume that all menu items will be the same size...
<adiamas>	and if the user wants to increase the font, they do so for all menus?
<Zagor>	for now, sure
<Bagder>	adiamas: oh yes, certainly
<adiamas>	k
<Bagder>	hm, the cvs page doesn't mention the cvs-commit mailing list
<Zagor>	right
<Bagder>	is that one mentioned on any page?
<adiamas>	in emacs.. how do i open a fresh buffer?
<Zagor>	i don't think so, only in mail
<adiamas>	like the scratch buffer..
<Zagor>	adiamas: C-x b
<Bagder>	adiams: control-x b
<adiamas>	thanks
<adiamas>	not switch.. i know that one...
<adiamas>	to create a clean unused buffer...
<Bagder>	enter a name of a non-existing buffer
<adiamas>	ahhh k
<Bagder>	*plopp*
<Linus>	Intuitive, right? :-)
<adiamas>	hehehe
<adiamas>	sure
<adiamas>	im looking at app.c
<adiamas>	wouldn't it make more sense to have #include "tree.h" and #include screensaver inside the #ifdef HAVE_LCD_BITMAP?
<Bagder>	it depends, the tree.c functionality should probably work on the Player too
<Bagder>	the screensaver though, could very well be inside that #ifdef
<adiamas>	k...
<adiamas>	ill fix that then
<Bagder>	Zagor: how do I figure out the attributes of a dirent struct? Can I see if its a file or dir there?
<Zagor>	yes, I just have to add the ATTR* macros from fat.h into dir.h
<Bagder>	ok, then I'll need to make sure the simulator supports them
<Zagor>	yup
<Zagor>	not perfectly POSIX, but I think it's a fair trade-off
<Bagder>	I agree
<adiamas>	umm.. what do we call a menu item?
<adiamas>	is the generic term 'item' okay?
<adiamas>	more specifically 'menu_item'
<Zagor>	menu_item sounds nice :)
<adiamas>	k...
<adiamas>	hehhe okay.. its offical.. we have the first stages of a menu api
<Zagor>	goodie
<adiamas>	once i commit, im going to ask you to look at the menu.h file and see if the functions make sense w/o comments.
<Zagor>	ok
<Zagor>	the struct name shouldn't use uppercase
<adiamas>	at all?
<Zagor>	what's the difference btwn put_cursor(0) and put_cursor_menu_top?
<Zagor>	no, only lowercase
<adiamas>	scrolling menus...
<adiamas>	idea is that put_cursor puts you at the top of the menu all togeather..
<adiamas>	put_cursor_menu_top wold be viable menu
<adiamas>	right now there is no difference
<Zagor>	ok
<adiamas>	basically.. put_cursor() puts you _anywhere_ 
<adiamas>	ill clear it all up in comments as i go...
<Zagor>	ok
<adiamas>	that and ill try for better names...
<adiamas>	i just get sick when i think of "put_cursor_to_top_of_visable_menu()"
<adiamas>	:)
<Zagor>	uh, me too...
<Zagor>	I prefer fewer functions with parameter rather than many (void) functions
<Zagor>	within reason, of course
<adiamas>	so do i...
<adiamas>	downside right now is there isnt much our menuing is doing...
<adiamas>	always easier to coalese basic functions togeather...
<adiamas>	least for me
<Zagor>	yeah, I'll give you some slack for the moment :)
<adiamas>	oh sure.. make it easy...
<adiamas>	what im trying to figure out is how to handle sub menus...
<adiamas>	what i was thinking is that maybe we keep the menu_struct we have..
<adiamas>	but as we add submenus we just create an array of the structs...
<Bagder>	adiamas: first, can you think of any submenu we should have?
<adiamas>	and jsut reference them.. but im not sure..
<adiamas>	sure...
<adiamas>	:games
<Bagder>	right
<adiamas>	and when we get more ppl playing with the ui, itll get more robust...
<adiamas>	options menu
<adiamas>	i ment to ask.. seeing as you'all are working in firmware...
<adiamas>	i know the idea of a 'boot' loader is not a good idea... but what about the ability for the user to have a menu to choose which version of firmware to boot with next?
<Bagder>	of course we want that
<adiamas>	rather then having to copy files too and from the archos to play with firmware
<Bagder>	exactly
<Bagder>	you could have X different firmwares
<adiamas>	nods
<Linus>	I can't recall that anybody said a boot loader was a bad idea...
*	adiamas assumed....
<adiamas>	so shoot me :)
<Linus>	Actually, we have talked a lot about that, the project name is called RoLo
<Linus>	for Rockbox Loader
<adiamas>	sweet...
<Linus>	...as candy
<adiamas>	you guys have done a fantastic job getting off metal quick.. have i mentioned that?
*	Zagor notes it's even in the Activity chart on the web page
<Linus>	Thx
<adiamas>	umm.. in API
<adiamas>	we list mp3info as returning FALSE if successful
<adiamas>	huh?
<adiamas>	that can't be right.
<Bagder>	correct
<Bagder>	that's wrong ;-)
<adiamas>	k.. ive got it
<Bagder>	euhhh
<Bagder>	no
<Bagder>	it is correct
<adiamas>	okay.. so it _should_ be FALSE?
<adiamas>	ummm.. that seems really counterintuitive guys?
<Bagder>	it works that way now
<Bagder>	not really
<Bagder>	because it leaves the opportunity to return different return codes for different failures
<adiamas>	but TRUE should _never_ be a failure...
<adiamas>	unless the function is invalid_mp3info()
<calpefrosch>	I made the win32-sim working. how can I diff so you can work with ?
<Linus>	If you plan to use other return codes that TRUE or FALSE you should use another return type.
*	adiamas nods
<Bagder>	yes, but I wouldn't have to change the checks
<Linus>	I don't follow
<Bagder>	non-zero would mean error
<adiamas>	i still don't get why FALSE means you _were_ able to fine mp3info
<Zagor>	FALSE is boolean, this is int
<Zagor>	it's 0, not FALSE
<Linus>	Bagder: of course. That is why you should use int
<Bagder>	nag nag
<Bagder>	calpefrosch: I
<adiamas>	correct correct
<Bagder>	'd prefer a diff -u ...
<Linus>	And the comment above the function says it returns "void" :-)
<Bagder>	hehe
<Linus>	That is a rather redundant comment.
<Bagder>	it *did*
<calpefrosch>	Bagder: ok, but I'm a windows-user. I only have checkboxes in wincvs ;-)
<adiamas>	well.. im submitting grammer corrections now.. 
<adiamas>	argue once it's in
<Linus>	Anyone can see what the function returns
<calpefrosch>	which should I check ?
<Bagder>	calpefrosch: ok, a unified diff, you should be able to make one of those I guess
<adiamas>	okay.. commited
<adiamas>	is there a way to prevent dependancy checking when you are doing a make clean?
<Zagor>	calpefrosch: I'll add you for cvs commit access. what's your sourceforge ID?
<calpefrosch>	I have no ID yet
<Zagor>	ok
<calpefrosch>	I will create it now, ok?
<Bagder>	run run! ;-)
<adiamas>	am i correct that to adjust the lcd size i edit lcd-x11?
<adiamas>	or lcd-win32 respectively?
<Bagder>	what size?
<Bagder>	of the window?
<adiamas>	well. when i compile the sim for recorder.. size is fine..
<adiamas>	when i compile fore player... it doen'st make sense to keep the ui the same size..
<Bagder>	true
<adiamas>	dunno how to fix it.. wantted to see how to do it
<Bagder>	the size for the x11 sim window is in the screenhack.c file
<adiamas>	is that default_defaults?
<Bagder>	yep
<adiamas>	is the player the same width?
<adiamas>	just only 2 lines hight?
<Bagder>	no
<Bagder>	it's 2 X 11 letters
<Bagder>	but there should be room for some icons too, I think
-->	linuxstb (dave@dsl-212-23-31-215.zen.co.uk) has joined #rockbox
<Bagder>	I'm not really good on the player lcd
<Bagder>	hey Dave
<linuxstb>	Hello everyone.
<adiamas>	k.. then ill leave it for tomorrow.. i need sleep bad...
<adiamas>	night all
<Linus>	Hi!
<adiamas>	welcome dave
<Bagder>	night adiamas
*	adiamas waves
---	You are now known as adi|sleep
<calpefrosch>	Zagor: my ID is 536571
<Zagor>	I need the username
<calpefrosch>	calpefrosch
<calpefrosch>	what else ;-)
<Zagor>	:)
<Bagder>	:-)
<Zagor>	now you're added. and Dave, you've been added too.
<linuxstb>	Thanks.  I plan to work on the directory browsing a little more today - mainly to implement scrolling.
<Bagder>	goodie
<Zagor>	nice
<Bagder>	it _is_ a bit limited right now, indeed ;-)
<calpefrosch>	tnx
<linuxstb>	Has anyone thought about an API for actually playing audio files?
<Bagder>	linuxstb: we'll change the is_dir() stuff to instead use the dirent struct as soon as we know how Zagor will feature the atrributes
<linuxstb>	Agreed about is_dir() - that was just a quick hack by me.
<Bagder>	oh sure, it works fine for now
<Zagor>	linuxstb: not yet. it'll be something simple, since the playing is handled by DMA and a "feed" thread
<linuxstb>	I have a little experience of using libmad, so would like to implement mp3 playing in the simulator.
<Bagder>	hehe
<Zagor>	sure
<calpefrosch>	Zagor: can you help me with the setup of cvs?
<Zagor>	Linus: you should add the timer interrupt code to the main firmware dir. we need to use sleep()
<Zagor>	calpefrosch: not for wincvs, I'm afraid. follow the wincvs link on the cvs info page.
<calpefrosch>	ok
<Linus>	It's in kernel.c
<Zagor>	Linus: yes, but it's not started
<Linus>	kernel_init()
<Zagor>	ok, good
<Linus>	You will have to lower the interrupt mask with set_irq_level(0) after kernel_init()
<Linus>	And I use system.c for the interrupt vectors
<Zagor>	so the current system.c is good?
<Linus>	Works for me
<Zagor>	ok
<Linus>	Actually, it's quite handy with the weak symbols when developing
<Zagor>	blaeh
<Zagor>	:)
Linus linuxstb <Linus>	That way I don't need my own system.c in every test directory
---	Zagor is now known as Zagor|lunch
---	Linus is now known as Linus|pizza
<Bagder>	wow pizza
*	Bagder starts to get hungry too
<linuxstb>	Re MP3 api: I think we need a "play queue" in memory of the filenames of the next 3 or 4 tracks to play.  The MP3 thread "just" plays files from this queue, and the UI thread modifies it.
<Bagder>	or perhaps the mp3-playing thread have direct-access to the playlist/queue we work on
<linuxstb>	What is the difference?
<Bagder>	I'm just thinking what happens when you select "back"
<Bagder>	if the mp3-thread can peek in the list, it just picks the previos tune and plays it
<Bagder>	if we'd feed the thread with a special queue to play, we'd need to take care of special situations 
<linuxstb>	I would like a simple MP3 thread that is independent of the way songs are selected.
<Bagder>	off for lunch
---	Bagder is now known as Bagder|eats
<linuxstb>	I was thinking what information the MP3 thread needed, and the minimum is just the next n tracks - enough to keep the play buffer full.
<PsycoXul>	play buffer full?
<PsycoXul>	how much ram do the recorders have? more than 2MB?
<calpefrosch>	Bagder: Do you know why I always get this message: cvs [server aborted]: "commit" requires write access to the repository
<calpefrosch>	if I want to commit?
<Linus|pizza>	The cvs server has a list of people with commit access, which I assume you are not yet part of.
---	Linus|pizza is now known as Linus
<calpefrosch>	Zagor wanted to put me on the list
<Linus>	Zagor tells me that you have checked out anonymously. You have to check out everything -ext
<Linus>	but backup the entire tree first. :-)
-->	alkorr (alkorr@srs03v-1-73.n.club-internet.fr) has joined #rockbox
<calpefrosch>	ahhh, tnx
<Linus>	Yo alan!
<alkorr>	yo Linus, not eating ?
<Linus>	full of pizza right now
<alkorr>	lol
<alkorr>	well it's time i have all commited
<--	Zagor|lunch (~bjst@labb.contactor.se) has left #rockbox
<alkorr>	see you later
<--	Linus (~linus@labb.contactor.se) has left #rockbox
<--	alkorr has quit (Client Quit)
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
<--	Zagor_ (~bjst@labb.contactor.se) has left #rockbox
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
---	Bagder|eats is now known as Bagder
<calpefrosch>	Bagder: I'm just commiting the win32-sim, I hope it is everything ok
<Bagder>	cool
<Linus>	calpefrosch: Why both logf() and debugf()
<calpefrosch>	logf was missing. I don't know where it should be...
<calpefrosch>	where is it in X11 ?
<Bagder>	I think it should use debugf() instead
<Linus>	My question was, why do we need two functions for the same thing?
<Bagder>	or
<Bagder>	do they?
<Bagder>	it isn't really clear to me what debugf() does in the simulator
<Linus>	The simulator doesn't have a console?
<Bagder>	I think so
<Bagder>	but what's mem2hex and putpacket ?
<calpefrosch>	hmmm, they use logf e.g. in play.c and the debugf in playlist.c
<Linus>	Strange.
<calpefrosch>	if I start the simulator in VC++ I get a console output...
<Bagder>	and the simulator don't set DEBUG either, not now at least
<Linus>	Bagder: those functions are for GDB communication
<Bagder>	so what does debugf() do when used in the simulator?
<Linus>	Whatever you, the simulator writer, wants it to. Preferably write to a console.
<Bagder>	sure, but it doesn't do that now, does it?
<calpefrosch>	I'm sorry, but unfortunately I have to do "real" work now. :-(
<calpefrosch>	see you later
<Bagder>	oh
<Linus>	Bagder: I guess not.
<Bagder>	there are two implementatins
*	calpefrosch is going to work
<Bagder>	see ya calpefrosch
<Linus>	CU!
---	calpefrosch is now known as calpefrosch|work
<Bagder>	Linus: do you use the DEBUG define for anything when you build your stuff?
<Linus>	No, not that I can remember.
<Bagder>	ok
<Linus>	I think that debug.c could contain code for all platforms.
<Bagder>	I think so too
<Bagder>	I'll make it 
<Linus>	Or is it kludgy?
<Bagder>	debug() it is
<Bagder>	debugf() even
<Linus>	Greato!
<--	Linus (~linus@labb.contactor.se) has left #rockbox
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
---	Zagor_ is now known as Zagor
*	Bagder got no post-lunch coffe, the machine is broken. aaaaaah!
*	Zagor is fetching his third after-lunch coffee :)
*	Bagder hears that someone has fixed the machine and ruuuuuuns
<Bagder>	turned out to be a rumour, had to walk down some stairs to get a cup
<calpefrosch|work>	I thought you (zagor and Bagder) are working in the same company...
<Bagder>	we're consultants, so we're hired to different customers
<Linus>	In fact, I and Zagor are at the same customer right now.
<calpefrosch|work>	aha, I see. We are also working together with some consultants
<Bagder>	so we don't actually meet in person that often
<Bagder>	Zagor: thanks for the atributes, I'll try to make the simulator use them tonight or so
<Zagor>	nice
<calpefrosch|work>	I make a scrolling feature for the simulator
<calpefrosch|work>	Should I check in ?
<Bagder>	scrolling feature?
<calpefrosch|work>	scrolling thru the dir...
<Linus>	And I'll just go and kill myself. I HATE THAT F***ING MAS DEMAND PIN!
<calpefrosch|work>	Linus: what's the problem ? you can tell me, I listen to you :-)
<Linus>	The problem is that the Demand pin on the MAS is going up and down like mad in the beginning of a song.
<Linus>	And the Player only generates an interrupt when the signal goes low
<Linus>	so I have to poll it to find out when it goes high
<Linus>	very often...
<calpefrosch|work>	too often...
<Linus>	indeed
<calpefrosch|work>	-o
<calpefrosch|work>	where is the input-pin at the SH1 ?
<Linus>	The Archos firmware initialization bears some evidence of them using a timer to start the DMA. I may have to disassemble it to see what it does.
<Linus>	It's on IRQ6
<Bagder>	gotta go, might pop by later
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<Linus>	CU!
<calpefrosch|work>	I would like to commit tree.c with the changed scrolling. Can anybody test it with X11 ?
<linuxstb>	Yes - I can check tree.c with X11.  mailto dave@dchapman.com
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
<Zagor>	i'm off. see you!
<--	Zagor (~bjst@labb.contactor.se) has left #rockbox
<wavey>	linus: congrats with the mas :)
<Linus>	Thanks
<Linus>	But it is really hard to write a driver for it that doesn't hog the CPU...
---	coyote- is now known as Tumm
<--	Linus (~linus@labb.contactor.se) has left #rockbox
-->	edx (~edx@pD9EAB563.dip.t-dialin.net) has joined #rockbox
<--	wavey has quit (Read error: 104 (Connection reset by peer))
<linuxstb>	Is there a maximum number of files/subdirs in a directory for FAT32?  Is the root directory different?
<calpefrosch|work>	linuxstb: It's working perfectly...
<calpefrosch|work>	please commit the changes. Maybe it would be too slow at long dirs, because we search everytime from the beginning. 
<linuxstb>	We need to read the whole directory into memory for two reasons - caching and sorting
<linuxstb>	OK - I'll commit the new scrolling tree.c
<calpefrosch|work>	tnx
---	calpefrosch|work is now known as calpefrosch|away
<linuxstb>	new tree.c committed
<--	calpefrosch|away (~calpefros@62.52.174.30) has left #Rockbox
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
-->	calpefrosch (calpefrosc@p5082C6D8.dip0.t-ipconnect.de) has joined #rockbox
<Linus>	yo
<calpefrosch>	yo, brb
---	calpefrosch is now known as calpefrosch|brb
---	Linus is now known as Linus|away
---	lou_soyur is now known as adi|work
<--	edx has quit (Read error: 110 (Connection timed out))
<--	calpefrosch|brb has quit ()
<--	linuxstb has quit ("using sirc version 2.211+KSIRC/1.0")
---	Linus|away is now known as Linus
<--	Linus (~linus@labb.contactor.se) has left #rockbox
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	calpefrosch|away (~calpefros@62.52.174.30) has joined #rockbox
<calpefrosch|away>	morning bagder
---	calpefrosch|away is now known as calpefrosch
<calpefrosch>	morning all 
<Bagder>	morning
---	calpefrosch is now known as calpefrosch|away
---	ChanServ gives channel operator status to Bagder
---	You are now known as adiamas
<Bagder>	hi adiamas
---	ChanServ gives channel operator status to adiamas
<adiamas>	hey Bagder
<adiamas>	guess what?
<Bagder>	tic tac toe rocks? ;-)
<adiamas>	hehe not yet
<adiamas>	but...
---	adiamas removes channel operator status from Bagder
<adiamas>	hehehehe
---	adiamas gives channel operator status to Bagder
<adiamas>	just felt like being silly
<Bagder>	:-)
*	Bagder walks away to check if the coffee machine works today
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
<Bagder>	morning Linus
<Linus>	mooning
<Linus>	:-)
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
---	Zagor_ is now known as Zagor
<Zagor>	hey all
<Linus>	The feeding of the MAS with DMA works splendidly!
<Bagder>	you rock Linus
<Linus>	I do!
<Linus>	:-)
<Linus>	But I think those Archos guys save a penny too much when designing the hardware
<Linus>	saved
<Bagder>	any ata/fat32 mp3-reading in sight?
<Linus>	Zagor "I Have A Life" Stenberg is lazy
<Linus>	I suggest we replace him
<Zagor>	hehe
<Bagder>	maybe we can just yell at him a lot until he improves?
*	Linus screams at Zagor!
<adiamas>	Linus why do you say that about the archos guys>
<PsycoXul>	just look at the player's LCD
<PsycoXul>	i mean come on i saw wristwatches 5 years ago far cheaper with more flexible displays :p
*	Bagder added common/strtok.c
<Linus>	adiamas: I say that because they haven't connected the inverted demand pin to an IRQ
<Linus>	so I have to poll the damn thing ever millisecond
<Linus>	every
<adiamas>	okay.. im very much not a hardware guy, so what is an 'inverted demand' pin?
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
<Bagder>	wavey the man!
<wavey>	howdy :)
*	wavey been gamecubing all weekend ;)
<Bagder>	hehehe
<Bagder>	I hope you don't mind me messing in your code in the mean time ;-)
<wavey>	no problem :)
<adiamas>	okay, ill ask..
<wavey>	bbl
<adiamas>	why did we have to rewrite strtok?
*	wavey waves
<adiamas>	i know there is a recursive one...
<Bagder>	wavey: I made the randomiser a lot faster, I changed the read-indices function and I made your test program build and run on my linux
<Bagder>	adiamas: because strtok() stores data in a static area
<adiamas>	Bagder i know..
<adiamas>	but there is a strtok_r already writen
<Bagder>	in newlib?
<adiamas>	its part of the standard library
<adiamas>	in new lib.. that i don't know :)
<Bagder>	strtok_r() is not standard unfortunately
<Bagder>	that's why I have that code written in the first place ;-)
<adiamas>	thats why i asked :)
<Bagder>	:-)
<Zagor>	newlib's strtok_r uses a thread context
<Zagor>	so bagder's is better
<Zagor>	Bagder: why are you including both stddef.h and string.h in strtok?
<Bagder>	good q, remove the stddef.h
<Bagder>	it was just ripped out from my curl sources
<--	wavey has quit (Read error: 104 (Connection reset by peer))
<Linus>	I think the thread context is a good thing. Why is it bad?
<Zagor>	it's unnecessary
<Bagder>	how does it manage "thread context" ?
<Linus>	The context switcher (thread.c) assigns a new "current" pointer when it switches context
<Linus>	All newlib functions with static data stores data in the struct pointed by "current" (or whatever it is called
<Bagder>	ok, thanks
<Zagor>	...which means: a) we have to init newlib for each thread and b) we have to swap newlib context
<Bagder>	doesn't it store errno there too?
<Linus>	Yes it does
<Linus>	Zagor: yes
<Bagder>	so we'd need to watch out for that
<Linus>	Indeed
<Zagor>	errno is not as much a problem, since we're unlikely to call a newlib function, yield, and then look at errno
<Linus>	The called function itself may yield, however
<Bagder>	possibly, I was more thinking about that it stores errno relative the current and thus it needs to be somewhat correct
<Zagor>	Linus: no
<Zagor>	no newlib functions call yield()
<Linus>	True
<adiamas>	umm... the chars shown in the char maps on the web site... how can i use those?
<Zagor>	this falls into the "neat but not immediately neccessary" category
<Bagder>	adiamas: the player chars?
<adiamas>	yeah.
<Zagor>	just display them
<adiamas>	ummmm how?
<Zagor>	lcd_puts() ?
<Bagder>	we need to convert them to our iternal format
<Bagder>	lcd_puts() is still using Gary's fonts
<adiamas>	well, not just chars
<Bagder>	even for player simul
<adiamas>	i feel like playing with sliders
<Zagor>	ah, you are talking about the simulators
<adiamas>	for volume control...
<Bagder>	...we should add two mini icons for tracks and dirs for the dir browser on the recorder
<adiamas>	huh?
<Bagder>	browse a dir with your recorder
<Bagder>	whatch the little icons to the left of each row
<adiamas>	got ya...
<adiamas>	that's what im trying to figure out.. how to get stuff like that form the map
<Bagder>	currently, we'll have to add the hex-data manually for new widgets ;-)
<adiamas>	ack...
<adiamas>	the chartables.c file in firmware.. what does that cover again?
<Bagder>	fonts
<Bagder>	the three different fonts
<adiamas>	only fonts?
<Bagder>	yes
<Bagder>	Gary's code package had a widget.c file with some additional ones
<adiamas>	yeah.. going to look at that now
<Bagder>	btw, including the simulators, we now have 14341 lines of source code in the CVS ;-)
<adiamas>	hehe cool
<adiamas>	one more time.. what was the command to remove extra cr-lf?
<Bagder>	tr -d '\015' < infile > outfile
<adiamas>	ty
<adiamas>	does lcd_bitmap work?
<Bagder>	yes
<Bagder>	lcd_puts() uses it extensively
<adiamas>	k
<Zagor>	wasn't there a size limit?
<Bagder>	ah yes
<Bagder>	it only handles 16 pixels height, I believe
<adiamas>	holy christ.. finally got this working and the thing is huge :)
-->	wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
---	Bagder is now known as Bagder|eats
<--	Bagder|eats has quit (Read error: 54 (Connection reset by peer))
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
*	Bagder fixes the simulated readdir() to return a dirent struct as the common/dir.h defines
<Linus>	Rockers
<Linus>	But maybe it should be the other way around?
<Bagder>	?
<Bagder>	you mean that the target readdir() should return a struct as the unixes use?
<Linus>	Exactly
<Bagder>	first off, the dirent struct seems to be different on various systems, but it also contains lots of crap we will never need/use
<Linus>	OK. Just a thought
<Bagder>	yes, would've made simulation easier ;-)
<Linus>	hehe. I think the target code should be the easy one...
<Bagder>	now, shall I make the code use this new stuff and thus break the win32 simulator? B-]
<Linus>	Of course. :-)
<Linus>	We donn't want no stinkin' windows!
<Bagder>	since they don't even have a native readdir(), this change is possibly even easier for them
<Linus>	Probably.
<Bagder>	gah, it broke on Solaris
<Bagder>	dirent is a pretty silly struct
<Bagder>	only one field is POSIX
<Zagor>	yes
<Zagor>	i want to avoid stat()
<Bagder>	yes
<Bagder>	I'll have the simulator use stat ;-)
<Zagor>	yes
<Bagder>	could've even make both Linux and Solaris use the same dirent code so I'll write my own instead
<Bagder>	couldn't
*	Bagder gets all confused in his head with this
<Zagor>	get more coffee :)
<Bagder>	good idea!
*	Bagder bangs his head and runs for coffee
<Bagder>	ah, much better
<Bagder>	found problem
<Bagder>	phew
<Bagder>	seems to work now on both Linux and Solaris
<Zagor>	nicers
<Bagder>	made the tree.c code use it and it worked too
-->	jb1081 (~jb1081@lime.ircam.fr) has joined #rockbox
<Linus>	Hi jb!
<jb1081>	Hi
<jb1081>	Do you know if there's some hardware differences between 6000 & 5000 (got a 5000 few weeks ago)
<jb1081>	?
<Bagder>	a 5000!
<Zagor>	seems to be only a smaller disk
<Bagder>	does that have 5GB disk`?
<jb1081>	Bagder: yep
<Bagder>	odd
<Zagor>	jb1081: where did you buy it?
<Bagder>	I mean, that they have two products that similar
<jb1081>	Zagor: Europe (France)
<Zagor>	ok. it's a bit odd that they don't mention it on their web page. i've heard people on the us get them too
<jb1081>	firmware release 5.08, not listed in archos website (last time I checked at least)
<jb1081>	but the led & scroll mod works
<Zagor>	yes I think it's the exact same hardware but a cheaper disk
<Zagor>	how much price difference was it btwn the 5000 and 6000, do you know?
<jb1081>	6000 discontinued here, I think
<jb1081>	5000: 180 euro
<Bagder>	180 euro is quite a good price imho
<Zagor>	yes
<jb1081>	found in general distribution (food...) supermarket
<Zagor>	!
<Bagder>	hehe
<Bagder>	one cheese, two packets of milk and one archos please ;-)
<jb1081>	:)
<jb1081>	oh, does the 6000 (5000 is the same, I presume) have the remote control pin in the headphone jack?
<Zagor>	yes
<jb1081>	cool. Do you plan to use it?
<Zagor>	sure, we'll use it just like today; for remote control
<Zagor>	we also use it as a serial port for debugging
<jb1081>	ok, I was thinking you use serial port by hardware mod to line in jack
<Zagor>	yes, that's because the headphone jack only has the "receive" pin
<jb1081>	sure
<Zagor>	we need both receive and transmit for debugging
<Zagor>	but it's the same serial port
<jb1081>	ok
<jb1081>	it's 9600? TTL?
<Zagor>	yes
<jb1081>	just thinking about using an old pc keyboard controller to build a remote
<jb1081>	but it need a clock, no?
<Zagor>	yeah, we've been thinking that too. adding a keyboard would be cool! :)
<Zagor>	it's asynchronous rs232 so it doesn't need a clock pin
<jb1081>	yep, but a pc keyboard is synchronous, if I remember correctly
<Zagor>	oh, ok
<jb1081>	"The frequency of the clock signal typically ranges from 20 to 30 Khz".. :(
<jb1081>	ok, not with a broken kbd.. too bad
<Linus>	The serial port can use an external clock as well.
<Linus>	synchronous
<Zagor>	yes but then we need to modify the hardware
<jb1081>	yes, but we have to open the box..
<jb1081>	a broken serial mouse perhaps?
<Linus>	Yup. Otherwise you have to build a separate kbd->rs232 converter
<Linus>	I guess you can get one off-the-shelf actually
<jb1081>	did you see this somewhere (at a resonable price?)
<Linus>	i can't remember seeing any in recent years, no :-)
<PsycoXul>	kbd->rs232?
<PsycoXul>	you mean a ps2->serial adapter?
<jb1081>	ok.. :( btw what headphone do you use? somebody tried a in-ear phone?
<jb1081>	PsycoXul: I understood a complete remote, but I doubt now.. 
<Zagor>	yes, I use the Sony EX70. they are *GREAT*
<Bagder>	oh no, don't get him started on those again ;*)
<jb1081>	Zagor: ok, I was not sure between ex70 et Koss The Plug, it difficult to ear it before buying here
<jb1081>	it's
<jb1081>	Bagder: oups, I should'nt?
<Zagor>	Bagder: hehe
<Linus>	PsycoXul: Yes, a PS/2 to RS232 adapter
<jb1081>	Zagor: the phone amp has no problem to drive the EX70 properly?
<Zagor>	jb1081: no, quite the opposite...
<PsycoXul>	Linus: i've got a couple of those laying around i think ... heh
<PsycoXul>	they're still out there places i'm pretty sure
<Linus>	Do you know where to biy one?
<Linus>	buy
<PsycoXul>	the ones i've got came with mice/keyboards a couple years ago i think
<Linus>	Oh
<PsycoXul>	look on ebay, computer stores, google heh
<jb1081>	found one but a little too big.. :) http://www.iptel-now.de/HOWTO/PS2SER/ps2ser.html
---	calpefrosch|away is now known as calpefrosch
<calpefrosch>	hi, just read the lines of today...
<Bagder>	hehe
<Bagder>	I just posted to the list too about it
<calpefrosch>	and I saw some stuff like "stinkin windows" ;-)
*	Bagder points at Linus and looks innocent
<calpefrosch>	so, I think I#ll have to fix the win32 sim ?
<Bagder>	yeps
<Bagder>	should be pretty easily done
<calpefrosch>	yes, but I have not much time the next days. 
*	calpefrosch looks out in the sun
*	Zagor spots another have-a-lifer :)
<calpefrosch>	hehe
<Bagder>	we got a mail from another volountary win32 hacker just yesterday... :-)
<calpefrosch>	who?
<Bagder>	eh, "Christian" ;-)
<Bagder>	Zagor: you replied to him yet?
<Zagor>	not yet
<calpefrosch>	cool. maybe I'll look at the code tomorrow. what do you think about the "scrolling" ? Is it usefull?
<Bagder>	we need scrolling
<Bagder>	I haven't tried it yet though ;-)
<calpefrosch>	isn't there a scrolling bar at the archos firmware? 
<Bagder>	yes there is
<Bagder>	on the left side
<calpefrosch>	mhhh, so we have to scan the dir first to see how much is in there
<Bagder>	I bet people will want one of those
<Bagder>	I'm afraid we'd need to do that, yes
<calpefrosch>	ok, we have a works meeting now. cu
<Bagder>	see ya
<Linus>	cu!
<--	calpefrosch has quit ("bin bals zurück")
<Bagder>	bin bals? ;-)
*	Bagder is gonna pretend he has a life now!
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Linus (~linus@labb.contactor.se) has left #rockbox
-->	chris1 (~flanz@62.132.155.14) has joined #rockbox
<Zagor>	hi chris!
<chris1>	Björn by sourcfor. name is "flanz"
<Zagor>	ok
-->	elinenbe (~chatzilla@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
<elinenbe>	hello there.
<Zagor>	chris1: you're addded
<chris1>	the ata-sim code will only work on Images on disk, I want to add support to read realtime the Sectors from the Archos HD in the UISimulator
<Zagor>	hi elinenbe
<Zagor>	chris1: we already do that.
<Zagor>	look at ata-sim.c in test/ata
<--	elinenbe has quit (Read error: 104 (Connection reset by peer))
-->	elinenbe (~chatzilla@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
<Zagor>	chris1: but it's not really useful for the simulator, since it will use high-level APIs for all disk operations
<chris1>	this line "file=fopen("disk.img","r+");" say me , the code work on a pre create disk image.
<Zagor>	yes
<Zagor>	I copy data from a real FAT32 disk into a image file and then use it for testing
<chris1>	ok your a right. With the image your need not to connect the RockBox to the USB port while the debuging session :)
<elinenbe>	how is the progress coming?
<Zagor>	the MAS DMA code is coming along, although it will not be as pretty as we hoped
<Zagor>	the ATA code is bugging, and I'm trying to figure out why
<Zagor>	and right now I'm writing open/close/read for basic file access
<elinenbe>	blah pretty... shmitty... who needs pretty code?
<Zagor>	well it's not just the code, more the design. we'll need to poll a pin every millisecond. we hoped to be able to get an interrupt for that instead
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Zagor>	but it's not a major problem, just a nuicance
<--	Zagor (~bjst@labb.contactor.se) has left #rockbox
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
---	Zagor_ is now known as Zagor
<Zagor>	bleh, my brain hurts. read() gets too complex.
<Bagder>	drink coffee! ;-)
*	Bagder returns an advice ;-)
<Zagor>	hehe
<Bagder>	I'll go and make food now, see ya
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Zagor (~bjst@labb.contactor.se) has left #rockbox
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
<Zagor_>	strange happenings...
---	Zagor_ is now known as Zagor
<chris1>	ok here in Berlin/EU  is al lite release party inhouse.I have to go. 
<--	chris1 has quit (Remote closed the connection)
<Zagor>	i'm off. see you later.
<--	Zagor (~bjst@labb.contactor.se) has left #rockbox
-->	Zagor (~bjst@as9-5-6.k.s.bonet.se) has joined #rockbox
-->	calpefrosch|away (calpefrosc@p5082C815.dip0.t-ipconnect.de) has joined #rockbox
<elinenbe>	hello
<--	wavey has quit (Read error: 110 (Connection timed out))
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
---	ChanServ removes channel operator status from adiamas
<--	Zagor has quit ("bye")
<--	wavey has quit (Read error: 110 (Connection timed out))
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
<--	elinenbe has quit ("ChatZilla 0.8.6 [Mozilla rv:1.0.0+/20020507]")
<--	calpefrosch|away has quit (Read error: 104 (Connection reset by peer))
<--	wavey has quit (Read error: 110 (Connection timed out))
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Bagder>	evening
<adi|work>	afternoon :)
<Bagder>	:-)
<Linus>	moo
*	Bagder scrolls in the directory browser... wooo ;-)
-->	quiquee (~quique@217.8.197.89) has joined #rockbox
<Bagder>	hey
<quiquee>	hello everyone
<Bagder>	its a silent period in here right now
---	quiquee is now known as wannabeuihacker
*	Bagder giggles
<wannabeuihacker>	I have seen that the menu stuff assumes complete separation of player and recorder
<Bagder>	yes, but I did that mainly to get a player version that compiled and built
<Bagder>	for the simulator that is
<wannabeuihacker>	I added the menu functions and got a menu system for the player
<Bagder>	cool
<wannabeuihacker>	mostly copy and paste
<wannabeuihacker>	I guess it is the best solution for now
<Bagder>	yes
<Bagder>	we'll see if we can merge stuff later on or if we'll keep them apart
<wannabeuihacker>	but the button right of the player is not working, any clue why ?
<wannabeuihacker>	I mean , when using the simulator
<Bagder>	the x11 one?
<wannabeuihacker>	yep
<Bagder>	weird, it should work
<Bagder>	when you get your code in, I can have a look
<wannabeuihacker>	I am trying to find out , how do I flush printf output ?
<Bagder>	fflush()
<wannabeuihacker>	ok I am doing something wrong then. 
<wannabeuihacker>	right button works
<wannabeuihacker>	my code doesn't
<Bagder>	heh
<wannabeuihacker>	fflush cores :? anyway
<wannabeuihacker>	I am trying to get used again to emacs and c
<Bagder>	fflush(stdout); it should be
<wannabeuihacker>	hmm , thanks.
<Bagder>	or whatever stream you wanna flushs
<wannabeuihacker>	I didnt use it for 6 years now
<Bagder>	this is a perfect way to get back in shape ;-)
<wannabeuihacker>	do you use emacs ? would you happen to know how was to run make withing emacs without a need to open a shell buffer ?
<adi|work>	yeah...
<Bagder>	M-x compile
<wannabeuihacker>	shit , I thought it couldnt be that easy
<adi|work>	meta-s is a common bind for it...
<Bagder>	M-x global-set-key ;-)
<wannabeuihacker>	ok , it insists in running make from the ./uisimulator
<wannabeuihacker>	it would be a good idea to add a Makefile there
<Bagder>	right, it runs from the dir of the buffer you start it from
<wannabeuihacker>	I will have to read again the gdb info 
-wannabeuihacker/#rockbox-	panics
*	Bagder tries to paint a little icon for the files in the dir browser
<Bagder>	unfortunately, gimp doesn't output our format natively ;-)
<wannabeuihacker>	ok, it is working
<wannabeuihacker>	I plan to create a menu structure that is read in the future from an external file
<wannabeuihacker>	so people can customize it to whatever they want
<wannabeuihacker>	just an idea to start playing with it
<wannabeuihacker>	no plans to add an xml parser in the firmware, right ? ;)
<Bagder>	I don't think that'll be necessary, but we'll see
<Bagder>	hehe
<wannabeuihacker>	I am having a lot of fun with this, an excuse to go back to the roots. Thank you guys
<Bagder>	I think I speak for most of us when I say that we enjoy this a lot too
<wannabeuihacker>	it is contagious .
<wannabeuihacker>	going to have a nap now. cu soon
<Bagder>	see ya
<Linus>	The ATA code sure is full of bugs...I'm killing them by the dozen...:-)
*	Bagder hands Linus the fly squasher
<Linus>	How can you do sleep(HZ/500) when HZ is only 100???? :-O
<Bagder>	haha
<Bagder>	short sleep ;-)
<Linus>	And it's full of return -1 for error
<Linus>	when the code checks for 0
<adi|work>	heheheh
<Linus>	Well, it's starting to work now. I've read the boot sector.
<Bagder>	on target?
<Linus>	Yup
<Bagder>	rock
<Linus>	I wish Zagor was on the channel.
<Bagder>	hm, I think I have a little perl script now that can "fix" an xbm as saved by gimp, to become "rockbox" formatted
<Linus>	bango!
<Bagder>	heh
<Bagder>	works
<Bagder>	now, what does a symbol for a directory look like? ;-)
<Linus>	Go figure
<Linus>	disk_init() finds the correct root partition now.
<Linus>	but readdir() fails miserably...
*	Bagder commtted his little icons
<Linus>	linus = sleep(until(6am));
<Linus>	bye
<Bagder>	night
<--	Linus (~linus@labb.contactor.se) has left #rockbox
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	jb1081 has quit (Read error: 113 (No route to host))
*	adiamas pokes you all in the forehead
<miah>	ouch
<adiamas>	wuss
<miah>	yea
<miah>	im a wuss
<adiamas>	has anyone figured out why the remote does not work with the recorder?
-->	calpefrosch (~calpefros@62.52.174.30) has joined #Rockbox
<calpefrosch>	morning
<adiamas>	evening :)
<calpefrosch>	oh
<calpefrosch>	had a nice day ? ;-)
<adiamas>	heheheh quiet so far...
<adiamas>	but im on call till 0700... so ill tell you tomorrow :)
<calpefrosch>	it's tuesday on your side, right ?
*	calpefrosch goes for breakfast
---	calpefrosch is now known as calpefrosch|eats
<adiamas>	yeah... its actually wends now.
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Bagder>	hey ho
<--	wannabeuihacker has quit (Read error: 110 (Connection timed out))
-->	wannabeuihacker (~quique@217.8.197.187) has joined #rockbox
<--	PsycoXul has quit (Read error: 104 (Connection reset by peer))
-->	PsycoXul (psyco@adsl-63-205-40-140.dsl.lsan03.pacbell.net) has joined #rockbox
<calpefrosch|eats>	hey Bagder
---	calpefrosch|eats is now known as calpefrosch
<Bagder>	mornning calpe
<calpefrosch>	The sim is running, where has it changed ?
<calpefrosch>	ahh, I have to fill the attribute
<Bagder>	exactly
<Bagder>	and size too preferably
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
<Bagder>	howdy Zagor_
---	Zagor_ is now known as Zagor
<Zagor>	i'm puzzled by linus' ata changes. they don't work for me
<Bagder>	odd
<Bagder>	he said he had a few problems
<Bagder>	but he could read a few things on target
<Zagor>	i guess he'll arrive soon
<Bagder>	yeah, he got to bed early :-P
<Bagder>	surely before 1 am...
<Zagor>	normally, I'd boo him too :)
<Bagder>	hehe
<Bagder>	I kinda like being the one who says good night when he leaves and good morning when he arrives back again ;-)
<Zagor>	hehe
<Bagder>	btw, we probably will end up needing a malloc() sooner or later, don't we?
<Zagor>	yes
<Bagder>	I thought I'd have a go at that
<Zagor>	we get a malloc with newlib, if only we supply sbrk(). but I like your malloc, so go ahead :)
<Bagder>	hehe
<Bagder>	uh
<Bagder>	wannabeuihacker has a little menu app written for the player now
<Bagder>	he said yesterday
<Zagor>	ah, cool
<Bagder>	calpefrosch: any plans on making the win32 simulator work as a Player?
*	Bagder runs for more coffee
<calpefrosch>	ok, sim is fixed.
<Bagder>	ain't my icons beautiful? ;-)
<calpefrosch>	I love it
<calpefrosch>	Bagder: yeah, I can try to made a player. But, as you know, I'm not good in VC++
<calpefrosch>	It would last a bit
<Bagder>	well, maybe some of the other guys could help out on that part too
<calpefrosch>	yes. Another question...
<calpefrosch>	I get an error in id3.c that header is not initialized
<Bagder>	which line?
<calpefrosch>	351
<Bagder>	that's a good warning
<Bagder>	it should be set to 0
<calpefrosch>	do you commit in cvs ?
<Bagder>	I'll do it, I fixed another thing too
<adiamas>	Bagder what is is the menu app that wannabeuihacker worked on .. do you know?
<Bagder>	it's written specificly for the player, that's about all I know
<Bagder>	the one we have now is recorder-specific
<adiamas>	nod
<adiamas>	btw.. bagder.. perhaps its time to start getting togeather an icons.h file?
<Bagder>	yes
<adiamas>	where did you put your icons?
<Bagder>	both a icons.c and an icons.h
<Bagder>	it's in the tree.c file
<Bagder>	they're
<adiamas>	im adding icons.h right now.
<Bagder>	feel free to give my icons better names
<adiamas>	should we rename "fileimage" to  "fileicon" ?
<Bagder>	yes
<adiamas>	those are 6x8 right?
*	Bagder nods
<adiamas>	will the player use icons?
<Bagder>	it a limited extent
<Bagder>	in a
<adiamas>	okay...
<adiamas>	just wondering if i was going to #defin around it
<Bagder>	but hardly the same ones
<adiamas>	nods
<adiamas>	anyone have an issue with the function name "get_6x8_bitmap_icon"
<adiamas>	or would you rather refernce the array directly?
<Bagder>	I prefer referencing the array directly
<Bagder>	no reduce all overhead
<Bagder>	to reduce
<adiamas>	that case.. any prob is all 6x8 icons are in an array with the subscripts as enums?
<Bagder>	Dave posted a good idea
<adiamas>	haveing X # of icons is annoying...
<adiamas>	havn'et seen it yet
<adiamas>	which part of the idea did you like?
<Bagder>	storing short names in memory
<adiamas>	well.. i don't know if i agree with his "just 16 chars"
<adiamas>	and the short name... dunno if i like that either.
<Bagder>	why not?
<adiamas>	i store my mp3s as "artist - song name.mp3"
<Bagder>	it's a memory internal thing
<adiamas>	so, stuff like "Les miserable - Curtan call" or whatever.. it doesn't help me on the dir listing
<Bagder>	right, but we haven't solved that issue yet
<adiamas>	right...
<adiamas>	i guess i just don't get what his suggestion is attempting to solve
<Bagder>	I'd prefer having a way to strip off the current directory's name from the local files or something
<Bagder>	you need to check the tree.c source to see what is aiming at ;-)
<Bagder>	what he is
<Bagder>	it currently stores the full names in memory
<Bagder>	and displays the 16 first letters
<adiamas>	i agree that we strip the dir structure..t hat just makes sense...
<adiamas>	but limiting the filename that cane be displayed.. dunno if i agree with that.
<Bagder>	thus, the displaying and the storing in memory are two parts
<adiamas>	If so, the buffer in tree.c just needs to 
<adiamas>	store the short name (for accessing the file) and the first 16 characters of 
<adiamas>	the full name (for display on the screen).
<adiamas>	16 chars is _not_ enough space for display
<adiamas>	thats what im getting at
<Bagder>	I get it
<Bagder>	but the full name shouldn't be needed either in all cases
-->	wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
<adiamas>	anything internal.. hell we index however we want..
<adiamas>	then when do you get it?
<adiamas>	if not when you do a dir listing?
<Bagder>	the full name stored for diplaying doesn't need to be the full file name
<Bagder>	it could be modified to look better
<adiamas>	define "look better"
<Bagder>	stripping off  redundant parts for example
<adiamas>	but "Beat on the brat.mp3"
<adiamas>	is good..
<adiamas>	that i agree..
<Bagder>	like I have "artist/artist - tune 1.mp3"
<adiamas>	but if you stop me from displaying my file "Les Miserables - Javier at the gates of the city.mp3", ill slap you silly
<adiamas>	:)
<Bagder>	then showing the dir in 'artisy' could cut off 'artist -' for me
<Bagder>	hehe
<Bagder>	well
<Bagder>	you still can't show that full length on each line
<adiamas>	i agree.. any directory struct stuff should not be shown
<adiamas>	sure you can.. it's called scroll :)
<Bagder>	you wanna scroll all lines?
<adiamas>	no.. only current selected line.. as you page through...
<Bagder>	right
<adiamas>	but if you only get the ful name when you cursor over it...
<Bagder>	but then you don't need to store the full name in memory
<adiamas>	you are going to be spinning up and down the drive constantly
<adiamas>	sure you do
<Bagder>	ah
<Bagder>	true
<adiamas>	now.. we can make alterations.. say.. ".mp3" can be dropped..
<adiamas>	and all directory structure...
<adiamas>	that i fully agree..
<adiamas>	oh.. and another suggestion.. you should not be able to try and play _non_ mp3 files
<adiamas>	i use my archos for data backup as well.. and my gf tried to 'play' "Oracle8"
<adiamas>	hehehe
<Bagder>	hehe
<adiamas>	play didn't like that much
<Bagder>	was it good? ;-P
<adiamas>	id rather display "Not an mp3" or something when you select it...
<adiamas>	and it's easy enough a check to do when you select a file to play
<adiamas>	Bagder wanna do me a favor?
<Bagder>	sure
<adiamas>	could i mail you this icons.h and tree.c for the uisim.. 
<adiamas>	let me know if the idea makes sense?
<adiamas>	it works.. just dont wanna set bad precident
<Bagder>	sure, fire away
<adiamas>	so no reasont to check it in
<PsycoXul>	i think it should do something specific to the filetype whenever it can, even if its something simple, and some simple thing for whatever unknown things
<PsycoXul>	eg you "play" a text file it shows it to you
<Bagder>	and if you play a HTML file ... *g*
<PsycoXul>	heh
*	Bagder grins
<PsycoXul>	yes so when are we getting the modem driver for the serial port?
<adiamas>	lol
<Bagder>	uh, that'll be after I'm done with the apache port
<PsycoXul>	hehe
<adiamas>	bag, sent
<Bagder>	gotem
*	adiamas thinks you should all read quesiton # 17 on the FAQ
<Bagder>	adiamas: I like that approach, I only have some nits
<PsycoXul>	oh yeah btw
<PsycoXul>	Q18. I don't see you mentioning ogg files on your list of ideas.  What about
<PsycoXul>	     supporting those?
<PsycoXul>	that question kinda seems odd when right within the same page you can see
<PsycoXul>	- Support playing of other files types (ie: Ogg Vorbis support)
<PsycoXul>	in said list of ideas
<Bagder>	adiamas: the array should be in the icons.c file, and the icons.h should have the enums and the array "extern"
<adiamas>	well.. thats why i was planning on having the calling function to get the array
<adiamas>	having externs all over the place is nasty
<adiamas>	but thats just my opinion...
<adiamas>	ill set it up your way and we can argue later :)
<Bagder>	:-)
<adiamas>	and i couldn't come up with a better name then that :)
<Zagor>	having extern in .h files is not nasty
<Zagor>	only in .c files
<adiamas>	your right...
<adiamas>	but if we do it continuously...
<adiamas>	your going to get files with 20+ externs...
<adiamas>	and name collisions are bound to happen...
<adiamas>	ive had them happen already
<PsycoXul>	be more creative with your names
<Zagor>	well if they're extern they're part of the API and should be named apropriately
<PsycoXul>	i'd show you some of the ones i come up with, but you'd probably be offended :p
<adiamas>	zagor i agree.. but if two ppl 'name appropriately' it doesn't prevent collisions :)
<PsycoXul>	sure it does
<adiamas>	how?
<Zagor>	adiamas: right, but then we smack them and joy is restored
<PsycoXul>	if you're using some api you don't name your vars by its external var naming conventions
<PsycoXul>	heh
<adiamas>	PsycoXul sure.. but were already at 14k+ lines
<adiamas>	are you telling me that you know _every_ extern we have defined already ;)
<PsycoXul>	no but i don't need to if i name my things in a specific manner
*	adiamas uses that figure because someone else poitned it out the other night.
<adiamas>	sure you do...
<adiamas>	there is no way to prevent collisions (other then slapping :)  ) when you extern
<Bagder>	many of those 14K is in the simulators
<adiamas>	so it becomes either, a. know the code or b. trial and error.
<Zagor>	adiamas: I count six (6) externs currently
<adiamas>	thats all im saying
<PsycoXul>	take this function, for example [advance appology to young or sensitive viewers]:
<PsycoXul>	shit carray(ass *bigass, ass *fatass) {
<PsycoXul>	        shit poop;
<Zagor>	three of which are the fonts
<PsycoXul>	        for (poop=0;(bigass[poop] == fatass[poop]);poop++);
<PsycoXul>	        return poop;
<PsycoXul>	}
<PsycoXul>	i don't think that would have collisions with much of anything
<adiamas>	what about carray?
<Zagor>	except the code ethics police :)
<adiamas>	know one else is going to use that? ;)
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
<Bagder>	hey Linus
<adiamas>	Zagor:  i agree.. its more of the 'as we go' thing...
<PsycoXul>	yeah well that could be named differently
<adiamas>	thats all im saying.
<PsycoXul>	:p
<PsycoXul>	it really should 
*	adiamas trouts PsycoXul viciously.
<PsycoXul>	but i leave it like that anyways
*	adiamas trades his trout in for a nice frozen ferret
<PsycoXul>	i've got another one thats named much more appropriately, however i figured in case anybody wouldn't appreciate the one i did paste, they really wouldn't appreciate this one 
<adiamas>	okay.. who wants to be ferreted?
<adiamas>	grrrr...
<adiamas>	can someone please make a note somewhere making a request for bounds checking?
<adiamas>	snprintf vs sprintf
<Zagor>	we should prevent sprintf somehow, so it won't link
<Zagor>	same with strcpy
<adiamas>	i suggested defining our own empty sprintf
<adiamas>	and strcpy
<adiamas>	with no args
<adiamas>	so the compiler bitches
<adiamas>	it didnt go over well :)
<Zagor>	i'm not sure
<Zagor>	linus and I just got the target ata code working
<Bagder>	anyone sits on a malloc() testing program? ;-)
<adiamas>	sweet :)
<Bagder>	*nice*
<Zagor>	so now we have full fat access on target
<adiamas>	any chance of partitioning out our unit yet or what ;)
*	adiamas coughs *reiserfs*
<Zagor>	adiamas: we already support multiple partitions, actually. but only fat32 so far, of course.
<adiamas>	wow.. didn't know you'll had taken that far
<adiamas>	okay, icons.[ch] created and commited
<adiamas>	tree.c
<adiamas>	updated
<adiamas>	and io.c fixed with removal of sprint, strcpy calls
<adiamas>	Zagor what do you think of a file for global #defines?
<adiamas>	stuff like the starting font size
<adiamas>	and menuing/dir y co-ordinates
<Zagor>	i feel this could be located in the ui code rather than some global file, no?
<adiamas>	well, thats what i mean...
<adiamas>	prob is, what file would you put it in 
<adiamas>	only thing i can think of would be app.c
<Zagor>	why not? start with it there
<adiamas>	fair enough
<adiamas>	deal with that tomorrow.. need sleep 
<adiamas>	night al
---	You are now known as adi|sleep
<Zagor>	night!
<Zagor>	g'night, even
<Linus>	Zagor: go work on the read() !!!!
<Zagor>	i'm on it
*	Bagder works on malloc()
<Linus>	Bagder is a nice person
*	Bagder walks to fill up his coffee cup
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
<--	Zagor has quit (Read error: 104 (Connection reset by peer))
---	Zagor_ is now known as Zagor
<Bagder>	the malloc system will benefit to get adjusted to our use cases
<Bagder>	whatever they are
<Zagor>	yup
<Bagder>	anyway, this seems to work pretty good now, and I can run all sorts of test cases against it
-->	alkorr (alkorr@srs01v-3-66.n.club-internet.fr) has joined #rockbox
<Zagor>	hi alan!
<Bagder>	hey alan
<alkorr>	hi Zag', Bagd'
<alkorr>	what's up ?
<Bagder>	the usual
<Bagder>	all sorts of poking in sources all over
<Bagder>	Linus and Zagor are doing progress on the ATA
<alkorr>	pokemen :)
<Zagor>	zagachu and linuchoo
<alkorr>	adding interrupt in ata ?
<Zagor>	not yet
<Zagor>	we just got everything working together
<alkorr>	ok
<Zagor>	humm, my read() doesn't signal EOF. that's not very nice :)
<alkorr>	see you later
<Bagder>	see ya alan
<Zagor>	I now return -ERRNO values from file.c. anybody see a problem with that?
<Linus>	Not at all
<Bagder>	yes
<Linus>	You should set errno. :-)
<Bagder>	we check for -1 from read() for errors
<Linus>	why not < 0?
<Bagder>	and lseek too
<Bagder>	because POSIX says -1
<Linus>	Ah. So errno is the way to go.
<Bagder>	it is
<Zagor>	yes but errno needs a thread context :(
<Linus>	so?
<Bagder>	can't we make our own errno instead?
*	calpefrosch going to have lunch now
<Zagor>	so I don't want a thread context
<Linus>	because...
---	calpefrosch is now known as calpefrosch|eats
<Zagor>	because it's not really giving us anything we need
<Linus>	you mean like errno?
<Bagder>	we don't need thread contexts for errno
<Bagder>	only because newlib forces us
<Zagor>	yes. we don't *need* errno for any other reason than to sustain strict POSIX comliance
<Linus>	Bagder: no. Just a thread safe errno
<Bagder>	we don't need a thread safe errno
<Bagder>	heck
<Linus>	oh? Why not?
<Bagder>	we don't need errno much at all
<Linus>	Maybe not
<Bagder>	well, people should be used to errno not being thread safe
<Linus>	Really?
<Bagder>	yes
<Linus>	Well then. Go for an unsafe errno.
<Bagder>	we'll educate the masses ;-)
<Linus>	:-)
<Linus>	Good. What about perror()?
<Linus>	When DEBUG compiled.
<Zagor>	strerror[] is better, imho
<Zagor>	hmm, or maybe not
<--	alkorr has quit (Read error: 110 (Connection timed out))
---	Zagor is now known as Zagor|lunch
---	calpefrosch|eats is now known as calpefrosch
---	Zagor|lunch is now known as Zagor
<--	Linus (~linus@labb.contactor.se) has left #rockbox
<Zagor>	read() is working
*	Zagor cheers
*	Bagder horrays
<Zagor>	it's a bit messy but we'll fix that
<Bagder>	closing on reading an mp3 now huh? ;-)
<Zagor>	you bet
-->	edx (~edx@pD9EA9824.dip.t-dialin.net) has joined #rockbox
<Bagder>	hey edx
<edx>	hi :)
<edx>	it's been a while... hehe i am working on a little secondary computer (i try to run cygwin with sshd there...)
*	edx has networking problems with his new computer and will be right back.
<--	edx has quit (Client Quit)
<Zagor>	I and Linus discussed versioning during lunch. We came up with the idea to write a list of "requirements" that version 1.0 should fulfill.
<Zagor>	something like: Directory browsing, mp3 playback and volume control.
<Bagder>	that'd be very good
<Bagder>	we could put features on milestones
<Bagder>	makes it easier to see where to put your efforts first
<Zagor>	yes
<Zagor>	I'm writing a status report. anything you think I've forgotten? ;)
<Bagder>	uuuuuh ;-)
<Bagder>	the scrolling dir browser!
<Zagor>	adding
<Zagor>	who wrote that? you?
<Bagder>	no
<Bagder>	Dave Chapman and Stefan Meyer
-->	edx (~edx@pD9EA9824.dip.t-dialin.net) has joined #rockbox
---	edx is now known as edx|
---	edx| is now known as edx
<edx>	hi... is anybody of you linix guys there.. i have a question :)
*	Bagder is around
<edx>	ok.. i set up an ssh server and when i connect i get this:
<edx>	You are successfully logged in to this server!!!
<edx>	setgid: Invalid argument
<edx>	what is taht setgid and where is it called?
<PsycoXul>	gid is group id
<Bagder>	man setgid
<PsycoXul>	like uid is user id
<edx>	aha
<edx>	and whats not working with this
<Bagder>	edx: it is probably called by the server or something
<edx>	yea it is called by the server.
<edx>	but why :/
<Bagder>	why?
<edx>	i guess its a cygwin related thing.. ?
<Bagder>	to change effective group
<edx>	bah.. and why does it have an invalid argument
<PsycoXul>	cause i don't think windows has groups...
<Bagder>	that is probably cygwin related, yes
-->	chris1 (~flanz@62.132.155.14) has joined #rockbox
<PsycoXul>	seems like cygwin would provide some sort of compatability
<chris1>	h
<Bagder>	hi chris1
<edx>	hi
<edx>	hmhmmhmmm... hmmm
*	edx will rebuild etc/passwd stuff
<chris1>	cygwin ?? you want to use gcc on W32
<Bagder>	edx is one of those weirdos ;-)
<edx>	i never said i was to build stuff with it :P
<edx>	just playing iwth the ssh server :)
<Bagder>	Zagor: perhaps the "app" stuff in uisimulator should be moved to firmware/app/ or something
<Zagor>	mmm, maybe
<Bagder>	since it isn't strict simulato stuff
<Zagor>	we discussed the library approach during lunch again. i'm warming up to it.
<Bagder>	ah
<Bagder>	still, the simulator directory seems the wrong place for actual code meant for target too
<Zagor>	so maybe we should make an "applications" cvs module containing all various applications instead
<Bagder>	right
<Zagor>	so do we want "app" or "applications"? :-)
*	PsycoXul votes for "apps"
*	Bagder raises his hand for "apps" too
<Zagor>	right
*	Bagder wants ironi's web design applied
<Zagor>	yeah, me too
<Zagor>	soon I'll just rip it myself :)
<Bagder>	:-)
<Zagor>	apps module created. create subdirs in it for each applications
<Zagor>	I'm still undecided if we should have a "player" and a "directory" directory
<Zagor>	or if we should try to make them coexist
<Zagor>	"player" and "recorder", of course
<Bagder>	in the application level, much will differ between them I guess
<Zagor>	precisely
<Bagder>	we could probably start with moving files from the uisimulator to the apps dir
<chris1>	the firmware can load latter the Recorder code from the disc as file.I use to 90 % the Player.
<Zagor>	chris1: yeah but what's the point? we'll create separate binaries for players and recorders.
<calpefrosch>	edx: are you using wincvs?
<chris1>	yes. We have some #ifdef in the player code to make the best results( smale binarys) for Rec and Player.
<Zagor>	exactly
<chris1>	my comments  applys not the the source code move talk :)
*	edx managed to get the ssh server working
<Bagder>	"its possible to set registers so two outputs are connected together, thus blowing the ATAPI interface"
<Zagor>	not likely
<Bagder>	sounds unlikely, yes
<chris1>	the player means ( target player&rec ) . The function Recorder can be a addOn module, load by the firmware from archos harddisk.
<Zagor>	dynamic loading would require more code than the recording function, probably... :-)
<Bagder>	we speak of Recorder and Player when we mean the different Archos models
<Zagor>	ah, yes
<Bagder>	gotta go
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
*	calpefrosch goes home
<calpefrosch>	bue
<calpefrosch>	bye
<Zagor>	bye
<--	calpefrosch (~calpefros@62.52.174.30) has left #Rockbox
<chris1>	dynamic loading can be a folder (plugins) on the root filesystem, where the User must reload a other firmware.That have no playlust  support etc. 
<chris1>	That can only record, an have all the memory for this task.
<Zagor>	yes but we must write the dynamic loading code ourselves. there is no operating system.
<Zagor>	and dynamic loading is very complex
<Zagor>	it's better to have a simple boot loader that lets you select different firmware versions att startup
<Zagor>	we have plans for such a boot loader (caller 'rolo')
<chris1>	ok, this boot loader can have return point if no firmeware select, and can call by the allready loaded firmware.
<Zagor>	no, we can not return to the ROM firwmare. once the archos has loaded our file, we are on our own. 
<PsycoXul>	well if a firmware that the bootloader runs returns, can it continue?
<PsycoXul>	the bootloader i mean
<Zagor>	that's a possibility
<Zagor>	if we reserve an area in RAM for it then a firmware can "exit" by calling it
<Zagor>	also it's not impossible to have each firmware contain a snippet of code that loads "rolo.bin" and executes it
<PsycoXul>	heh
<Zagor>	especially games would benefit from this
<PsycoXul>	the bootloader would appear like an OS that lets you run programs
<Zagor>	yes
<chris1>	cool
<Zagor>	in a way, it would look like the plugins chris talks about. but in reality they are separate applications.
<chris1>	I think the time will show what is the best solution for this.First task is to go to R1.0. .) that can play mp3.
<Zagor>	yes
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
<Zagor>	hi linus
<Linus>	Yo!
<Linus>	I'm baking with my son
<Linus>	Zagor: is the read() working?
<Zagor>	yes
<Zagor>	i'm struggling with lseek() now
<Linus>	I can't wait...
<Zagor>	SEEK_SET and SEEK_END works, but SEEK_CUR bugs
<Zagor>	(when used in insidious ways, that is)
<Linus>	Ah. But how hard can that be...
<Zagor>	the problem is, of course, the sector caching and when you seek back cross-sector etc
<Linus>	Ah. I see
---	Linus is now known as Linus|baking
<Zagor>	ahhh, works again
<--	wannabeuihacker has quit (Read error: 110 (Connection timed out))
<Zagor>	gotta go. bye
<--	Zagor (~bjst@labb.contactor.se) has left #rockbox
<--	chris1 has quit (Remote closed the connection)
<--	wavey has quit (Read error: 110 (Connection timed out))
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
-->	edx|cygwin (~edx@pD9EA9824.dip.t-dialin.net) has joined #rockbox
<--	edx has quit (Read error: 104 (Connection reset by peer))
<edx|cygwin>	heh.. got irc to work with cygwin.. finally
-->	edx (~edx@pD9EA9824.dip.t-dialin.net) has joined #rockbox
---	edx is now known as edx|
---	edx| is now known as edx
---	edx is now known as edx|away
<adi|work>	hehe go you edx
-->	quiquee (~quique@217.8.199.41) has joined #rockbox
<--	quiquee has quit ("Leaving")
---	Linus|baking is now known as Linus
<elinenbe>	how is the food?
<elinenbe>	:)
<Linus>	Great
-->	quiquee (~quique@217.8.197.154) has joined #rockbox
<quiquee>	I guess today is a bad day to check out the firmware from cvs
<quiquee>	#             __________               __   ___.
<quiquee>	#   Open      \______   \ ____   ____ |  | _\_ |__   _______  ___
<quiquee>	#   Source     |       _//  _ \_/ ___\|  |/ /| __ \ /  _ \  \/  /
<quiquee>	#   Jukebox    |    |   (  <_> )  \___|    < | \_\ (  <_> > <  <
<quiquee>	#   Firmware   |____|_  /\____/ \___  >__|_ \|___  /\____/__/\_ \
<quiquee>	#                     \/            \/     \/    \/            \/
<quiquee>	# $Id$
<quiquee>	#
<quiquee>	HPATH = /usr/local/sh1/bin
<quiquee>	CC    = $(HPATH)/sh-elf-gcc
<quiquee>	LD    = $(HPATH)/sh-elf-ld
<quiquee>	AR    = $(HPATH)/sh-elf-ar
<quiquee>	AS    = $(HPATH)/sh-elf-as
<quiquee>	OC    = $(HPATH)/sh-elf-objcopy
<quiquee>	INCLUDES=-I. -DBLOCK_SIZE=512
<quiquee>	CFLAGS = -Os -Wall -m1 -nostdlib -Wstrict-prototypes -fomit-frame-pointer -fschedule-insns $(INCLUDES)
<quiquee>	AFLAGS += -small -relax
<quiquee>	SRC := $(wildcard *.c)
<quiquee>	OBJS := $(SRC:%.c=%.o)
<quiquee>	%.o: %.s
<quiquee>	all: $(OBJS) # archos.mod # archos.asm 
<quiquee>	archos.elf : $(OBJS) app.lds
<quiquee>	archos.bin : archos.elf
<quiquee>	archos.asm: archos.bin
<quiquee>	archos.mod : archos.bin
<quiquee>	dist:
<quiquee>	clean:
<quiquee>	=======
<quiquee>	sorry aboyt that
-->	calpefrosch|away (~hotrana@p5082C723.dip0.t-ipconnect.de) has joined #rockbox
<--	calpefrosch|away has quit (Client Quit)
<elinenbe>	woo hoo!
<quiquee>	I am sorry, trying to paste and copy in an xterm in cygwin/X
<quiquee>	crt0.o: In function `main_k':
<quiquee>	crt0.o(.init.text+0x74): undefined reference to `main'
<quiquee>	when trying to compile the firmware
<Linus>	There is no firmware. Just a bunch of source files.
<quiquee>	I thought it was already something that could compile as a whole
<Linus>	Not yet.
<--	quiquee has quit ()
<--	edx|cygwin has quit ("Leaving")
<--	Linus (~linus@labb.contactor.se) has left #rockbox
<adi|work>	should all the apps that are in the uisim be moved to the new apps dir?
-->	chris1 (~flanz@Bbb2d.pppool.de) has joined #rockbox
<chris1>	can i leave a mesg to zagor ?
<adi|work>	sure.. go ahead
<adi|work>	ill give it to him
<--	chris1 has quit (Read error: 110 (Connection timed out))
<--	miah has quit (Remote closed the connection)
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<--	edx|away has quit (Read error: 110 (Connection timed out))
-->	wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
<Bagder>	hey wavey
<adi|sleep>	so whats the story with putting apps into the apps dir?
<wavey>	good morning
<Bagder>	adi|sleep: just that the apps probably shouldn't be in the simulator dir
<Bagder>	since they'll be part of target builds too
<adi|sleep>	right.. but what i mean is, should i just move them over blindly or what?
<Bagder>	btw, it is a national holiday in Sweden today, thus the calmness ;-)
<adi|sleep>	hehe k.. i was wondering..
<adi|sleep>	what is the holiday?
<Bagder>	it is a traditional religious thing
<adi|sleep>	gotcha
-->	edx|away (~edx@pD9EA9986.dip.t-dialin.net) has joined #rockbox
---	edx|away is now known as edx|breakfast
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	edx|breakfast has quit (carter.openprojects.net irc.openprojects.net)
<--	wavey has quit (carter.openprojects.net irc.openprojects.net)
<--	adi|work has quit (carter.openprojects.net irc.openprojects.net)
<--	Tumm has quit (carter.openprojects.net irc.openprojects.net)
-->	edx|breakfast (~edx@pD9EA9986.dip.t-dialin.net) has joined #rockbox
-->	wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
-->	adi|work (~adiamas@pool-151-204-140-140.ny325.east.verizon.net) has joined #rockbox
-->	Tumm (coyote@dreamhosted.borlange.se) has joined #rockbox
---	edx|breakfast is now known as edx
<--	elinenbe has quit ("ChatZilla 0.8.6 [Mozilla rv:1.0.0+/20020507]")
<--	wavey (~wavey@dlan1431.dircon.co.uk) has left #rockbox
-->	alkorr (alkorr@srs03v-7-153.n.club-internet.fr) has joined #rockbox
<--	alkorr has quit (Client Quit)
-->	calpefrosch|away (calpefrosc@p5082C71C.dip0.t-ipconnect.de) has joined #rockbox
-->	ironi (irony@pce284-lr.ing-stud1.hj.se) has joined #rockbox
<ironi>	hello
**** ENDING LOGGING AT Thu May  9 12:23:28 2002

